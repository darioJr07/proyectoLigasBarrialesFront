<div class="image-upload-container">
  <div class="upload-label">{{ label }}</div>
  
  <!-- Preview de imagen -->
  <div class="image-preview" *ngIf="displayImageUrl">
    <img [src]="displayImageUrl" [alt]="label">
    <button type="button" class="btn-remove" (click)="clearImage()" *ngIf="!uploading" title="Eliminar">
      âœ•
    </button>
  </div>

  <!-- Input de archivo (oculto) -->
  <input 
    type="file" 
    #fileInput 
    (change)="onFileSelected($event)"
    accept="image/*"
    style="display: none">

  <!-- BotÃ³n para seleccionar archivo -->
  <button 
    type="button" 
    class="btn-upload" 
    (click)="fileInput.click()"
    [disabled]="uploading">
    <span *ngIf="!uploading">ğŸ“ Examinar...</span>
    <span *ngIf="uploading">â³ Subiendo...</span>
  </button>

  <!-- Barra de progreso -->
  <div class="progress-bar" *ngIf="uploading">
    <div class="progress-fill" [style.width.%]="uploadProgress"></div>
    <span class="progress-text">{{ uploadProgress }}%</span>
  </div>

  <!-- Mensaje de error -->
  <div class="error-message" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <small class="help-text">MÃ¡ximo 2MB. Formatos: JPG, PNG, WEBP</small>
</div>
